# 文档管理体系说明

> **创建时间：** 2025-12-26  
> **维护者：** chatAgent 团队

## 📋 概述

本文档说明 chatAgent 项目的新文档管理体系，包括目录结构、使用方法和最佳实践。

## 🎯 设计目标

1. **结构化管理：** 类似 openspec 的分类方式，按文档类型和用途分类
2. **中文优先：** 统一使用中文，便于团队协作和知识传承
3. **模板驱动：** 提供标准模板，保证文档质量和一致性
4. **易于维护：** 清晰的组织结构，降低维护成本
5. **便于查找：** 提供文档索引和导航，快速定位所需文档

## 📁 目录结构

```
docs/
├── README.md                    # 📚 文档中心（文档索引和导航）
├── MIGRATION_GUIDE.md          # 🔄 迁移指南
├── 文档管理体系说明.md         # 📖 本文档
│
├── guides/                      # 📘 用户指南
│   ├── quick-start/            # ⚡ 快速入门
│   │   └── guide.md
│   ├── configuration/          # ⚙️ 配置说明
│   │   └── guide.md
│   └── streaming/              # 🌊 流式响应
│       └── guide.md
│
├── architecture/                # 🏗️ 架构文档
│   ├── overview/               # 📊 架构概览
│   │   └── doc.md
│   ├── implementation/         # 💻 实现总结
│   │   └── doc.md
│   └── adr/                    # 📝 架构决策记录
│       └── README.md
│
├── features/                    # ⚡ 功能文档
│   ├── model-invocation/       # 🤖 模型调用
│   │   └── doc.md
│   ├── streaming/              # 🌊 流式响应
│   │   └── doc.md
│   └── examples/               # 📋 使用示例
│       └── doc.md
│
├── development/                 # 👨‍💻 开发文档
│   ├── contributing/           # 🤝 贡献指南
│   │   └── guide.md
│   ├── testing/                # 🧪 测试指南
│   │   └── guide.md
│   └── coding-standards/       # 📏 编码规范
│       └── guide.md
│
├── operations/                  # 🔧 运维文档
│   ├── deployment/             # 🚀 部署指南
│   │   └── guide.md
│   ├── monitoring/             # 📊 监控配置
│   │   └── guide.md
│   └── troubleshooting/        # 🔍 故障排查
│       └── guide.md
│
└── templates/                   # 📝 文档模板
    ├── feature-doc.md          # 功能文档模板
    ├── guide.md                # 指南文档模板
    ├── adr.md                  # 架构决策记录模板
    └── troubleshooting.md      # 问题排查模板
```

## 🗂️ 文档分类

### 1. guides/ - 用户指南 📘

**用途：** 面向最终用户的操作指南和教程

**包含内容：**
- 快速入门指南
- 配置说明文档
- 功能使用教程
- 最佳实践说明

**何时创建：**
- 新用户需要上手指导
- 添加新功能需要使用说明
- 总结使用经验和技巧

**文件命名：** `guide.md`

### 2. architecture/ - 架构文档 🏗️

**用途：** 系统设计和技术架构说明

**包含内容：**
- 系统整体架构
- 模块设计说明
- 架构决策记录（ADR）
- 设计模式文档

**何时创建：**
- 系统架构设计或重构
- 重要技术决策
- 设计模式应用

**文件命名：** `doc.md` 或 `ADR-[编号].md`

### 3. features/ - 功能文档 ⚡

**用途：** 具体功能的详细说明

**包含内容：**
- 功能规范说明
- 使用方法和示例
- API 文档
- 实现细节

**何时创建：**
- 开发新功能
- 功能迭代更新
- 需要详细说明使用方法

**文件命名：** `doc.md`, `spec.md`, `examples.md`

### 4. development/ - 开发文档 👨‍💻

**用途：** 开发规范和流程说明

**包含内容：**
- 贡献指南
- 代码规范
- 测试指南
- 开发环境搭建

**何时创建：**
- 定义开发规范
- 建立协作流程
- 分享开发经验

**文件命名：** `guide.md`

### 5. operations/ - 运维文档 🔧

**用途：** 系统运维和问题排查

**包含内容：**
- 部署指南
- 监控配置
- 故障排查手册
- 性能优化方案

**何时创建：**
- 生产环境部署
- 建立监控体系
- 总结运维经验
- 处理常见问题

**文件命名：** `guide.md`

## 📝 使用方法

### 创建新文档

**步骤1：确定文档类型**

根据文档内容，选择合适的分类：

```bash
# 用户指南
docs/guides/[topic-name]/

# 架构文档
docs/architecture/[topic-name]/

# 功能文档
docs/features/[feature-name]/

# 开发文档
docs/development/[topic-name]/

# 运维文档
docs/operations/[topic-name]/
```

**步骤2：创建目录并复制模板**

```bash
# 示例：创建新功能文档
mkdir -p docs/features/new-feature
cp docs/templates/feature-doc.md docs/features/new-feature/doc.md
```

**步骤3：编辑文档**

1. 填写文档头部信息
2. 按模板结构编写内容
3. 添加代码示例和图表
4. 包含相关文档链接

**步骤4：更新索引**

在 `docs/README.md` 中添加新文档链接：

```markdown
### ⚡ 功能文档 (features/)

- [新功能](./features/new-feature/doc.md) - 新功能说明
```

### 查找文档

**方法1：通过文档中心**

访问 `docs/README.md`，使用目录导航或快速查找表

**方法2：直接访问**

根据文档类型，直接访问对应目录：

```bash
# 用户指南
docs/guides/

# 功能文档
docs/features/

# 问题排查
docs/operations/troubleshooting/
```

**方法3：全文搜索**

```bash
# 搜索关键词
grep -r "关键词" docs/

# 或使用 ripgrep
rg "关键词" docs/
```

### 更新文档

**步骤1：修改文档内容**

```bash
vim docs/features/feature-name/doc.md
```

**步骤2：更新头部信息**

```markdown
> **最后更新：** 2025-12-26  
```

**步骤3：更新版本历史**

```markdown
## 更新历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| 1.1.0 | 2025-12-26 | 新增XXX功能说明 |
| 1.0.0 | 2025-12-20 | 初始版本 |
```

**步骤4：提交变更**

```bash
git add docs/features/feature-name/doc.md
git commit -m "docs: update feature documentation"
```

## 📋 文档模板

### 可用模板

| 模板 | 用途 | 路径 |
|------|------|------|
| feature-doc.md | 功能文档 | `docs/templates/feature-doc.md` |
| guide.md | 指南文档 | `docs/templates/guide.md` |
| adr.md | 架构决策记录 | `docs/templates/adr.md` |
| troubleshooting.md | 问题排查 | `docs/templates/troubleshooting.md` |

### 模板使用

```bash
# 复制模板
cp docs/templates/[template-name].md docs/[category]/[topic]/[filename].md

# 编辑内容
vim docs/[category]/[topic]/[filename].md
```

## ✅ 文档规范

### 文件命名

- 目录：kebab-case（小写，连字符分隔）
- 文件：使用固定名称（`doc.md`, `guide.md`, `spec.md`）

### 内容规范

1. **头部信息：** 必须包含创建时间、维护者、状态
2. **章节结构：** 使用清晰的标题层级
3. **代码示例：** 提供可运行的完整示例
4. **图表说明：** 使用 Mermaid 或 ASCII 图表
5. **交叉引用：** 添加相关文档链接

### 语言规范

- **统一使用中文**
- 专业术语保留英文，首次出现时注释
- 代码和命令使用英文

### 格式规范

```markdown
# 一级标题

## 二级标题

### 三级标题

**粗体文本**

*斜体文本*

`代码`

[链接](url)

![图片](url)
```

## 🔄 迁移现有文档

如果需要将现有文档迁移到新体系：

1. 查看 [迁移指南](./MIGRATION_GUIDE.md)
2. 运行迁移脚本 `./migrate_docs.sh`
3. 手动调整文档格式和链接
4. 更新文档索引

## 🛠️ 工具推荐

### 编辑工具

- **VSCode** + Markdown All in One 插件
- **Typora** - 所见即所得编辑器
- **vim** + markdown-preview.nvim

### 检查工具

```bash
# 格式检查
markdownlint docs/**/*.md

# 链接检查
markdown-link-check docs/**/*.md

# 拼写检查
aspell check doc.md
```

### 预览工具

```bash
# VSCode 内置预览
Ctrl/Cmd + Shift + V

# 命令行预览
grip docs/README.md

# 静态网站生成
mkdocs serve
```

## 📊 文档维护

### 定期审查

- **每季度：** 审查关键文档（快速入门、配置说明）
- **每半年：** 全面审查所有文档
- **代码变更：** 同步更新相关文档

### 版本管理

```bash
# 文档变更跟随代码
git add docs/
git commit -m "docs: update feature documentation"

# 标记重大变更
git tag -a v1.0.0-docs -m "Major documentation update"
```

### 归档策略

过时的文档移到 `archive/` 子目录：

```bash
mkdir -p docs/features/old-feature/archive
mv docs/features/old-feature/doc.md docs/features/old-feature/archive/doc-v1.md
```

## 🎓 最佳实践

### 1. 文档驱动开发

- 先写文档，再写代码
- 文档作为设计讨论的基础
- 代码实现后更新文档

### 2. 保持更新

- 代码 PR 包含相关文档更新
- 定期审查过时内容
- 及时响应文档问题

### 3. 示例优先

- 提供完整可运行示例
- 包含常见场景
- 展示最佳实践

### 4. 用户视角

- 从用户需求出发
- 避免过多技术细节
- 提供解决方案而非实现细节

### 5. 持续改进

- 收集用户反馈
- 记录常见问题
- 优化文档结构

## 🔗 相关资源

- [文档中心](./README.md) - 文档索引和导航
- [迁移指南](./MIGRATION_GUIDE.md) - 现有文档迁移
- [项目规范](../openspec/project.md) - 项目约定和规范

## 📞 联系方式

如有文档相关问题：

- **GitHub Issues：** 提交文档问题或建议
- **讨论区：** 参与文档相关讨论
- **维护者：** 联系项目维护者

---

**最后更新：** 2025-12-26  
**文档版本：** 1.0  
**维护者：** chatAgent 团队

