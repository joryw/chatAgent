# Chainlitæ¡†æ¶èƒ½åŠ›éªŒè¯

## âœ… å®˜æ–¹æ”¯æŒç¡®è®¤

### ChatSettings API
Chainlitå®˜æ–¹æ–‡æ¡£æ˜ç¡®æ”¯æŒèŠå¤©è®¾ç½®åŠŸèƒ½:

**æ–‡æ¡£é“¾æ¥:**
- https://docs.chainlit.io/api-reference/chat-settings

**æ”¯æŒçš„æ§ä»¶ç±»å‹:**
```python
from chainlit.input_widget import (
    Switch,      # âœ… å¼€å…³æ§ä»¶ - æˆ‘ä»¬éœ€è¦çš„!
    Slider,      # æ»‘å—
    Select,      # ä¸‹æ‹‰é€‰æ‹©
    TextInput,   # æ–‡æœ¬è¾“å…¥
    NumberInput, # æ•°å­—è¾“å…¥
    Tags         # æ ‡ç­¾é€‰æ‹©
)
```

## ğŸ“ å®é™…ä»£ç ç¤ºä¾‹

### æœ€å°å¯è¡Œå®ç°

```python
import chainlit as cl
from chainlit.input_widget import Switch

@cl.on_chat_start
async def start():
    """åˆå§‹åŒ–èŠå¤©è®¾ç½®"""
    settings = await cl.ChatSettings(
        [
            Switch(
                id="web_search",
                label="ğŸ” è”ç½‘æœç´¢",
                initial=False,
                description="å¯ç”¨åå°†ä½¿ç”¨SearXNGæœç´¢å®æ—¶ä¿¡æ¯"
            )
        ]
    ).send()
    
    cl.user_session.set("search_enabled", False)
    await cl.Message(content="è®¾ç½®é¢æ¿å·²å°±ç»ª!").send()

@cl.on_settings_update
async def settings_update(settings):
    """å¤„ç†è®¾ç½®æ›´æ–°"""
    search_enabled = settings.get("web_search", False)
    cl.user_session.set("search_enabled", search_enabled)
    
    status = "âœ… å·²å¯ç”¨" if search_enabled else "âŒ å·²ç¦ç”¨"
    await cl.Message(
        content=f"è”ç½‘æœç´¢ {status}",
        author="System"
    ).send()

@cl.on_message
async def main(message: cl.Message):
    """å¤„ç†æ¶ˆæ¯"""
    search_enabled = cl.user_session.get("search_enabled", False)
    
    if search_enabled:
        response = "ğŸ” æœç´¢æ¨¡å¼: " + message.content
    else:
        response = "ğŸ’­ æ€è€ƒæ¨¡å¼: " + message.content
    
    await cl.Message(content=response).send()
```

**è¿™æ®µä»£ç åªæœ‰~30è¡Œ,ä½†å·²ç»å®ç°äº†:**
- âœ… UIå¼€å…³æ˜¾ç¤º
- âœ… çŠ¶æ€åˆ‡æ¢
- âœ… å®æ—¶åé¦ˆ
- âœ… ä¼šè¯çŠ¶æ€ç®¡ç†

## ğŸ¨ UIæ•ˆæœå±•ç¤º

### è®¾ç½®é¢æ¿ä½ç½®
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Agent Chat              âš™ï¸ è®¾ç½®  â”‚ â† ç‚¹å‡»æ‰“å¼€è®¾ç½®é¢æ¿
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ’¬ èŠå¤©æ¶ˆæ¯åŒºåŸŸ                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  è¾“å…¥æ¶ˆæ¯...                    [å‘é€]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®¾ç½®é¢æ¿å†…å®¹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ èŠå¤©è®¾ç½®             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚  ğŸ” è”ç½‘æœç´¢            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  â—â”€â”€â”€â”‚              â”‚ â† Switchå¼€å…³
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  å¯ç”¨åå°†ä½¿ç”¨SearXNG    â”‚
â”‚  æœç´¢å®æ—¶ä¿¡æ¯           â”‚
â”‚                         â”‚
â”‚  [åº”ç”¨] [å–æ¶ˆ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·äº¤äº’æµç¨‹
```
1. ç”¨æˆ·ç‚¹å‡»è®¾ç½®å›¾æ ‡ âš™ï¸
   â†“
2. è®¾ç½®é¢æ¿æ»‘å‡º/å¼¹å‡º
   â†“
3. ç”¨æˆ·çœ‹åˆ°"è”ç½‘æœç´¢"å¼€å…³
   â†“
4. ç”¨æˆ·ç‚¹å‡»å¼€å…³
   â†“
5. å¼€å…³çŠ¶æ€ç«‹å³æ”¹å˜ â—â”€â”€â”€
   â†“
6. ç³»ç»Ÿå‘é€ç¡®è®¤æ¶ˆæ¯
   "è”ç½‘æœç´¢ âœ… å·²å¯ç”¨"
   â†“
7. åç»­æ¶ˆæ¯è‡ªåŠ¨ä½¿ç”¨æœç´¢
```

## ğŸ”§ é«˜çº§ç‰¹æ€§

### 1. åŠ¨æ€ç¦ç”¨å¼€å…³
```python
Switch(
    id="web_search",
    label="ğŸ” è”ç½‘æœç´¢",
    initial=False,
    disabled=True,  # â† å½“æœç´¢æœåŠ¡ä¸å¯ç”¨æ—¶
    tooltip="æœç´¢æœåŠ¡ä¸å¯ç”¨,è¯·æ£€æŸ¥é…ç½®"
)
```

**æ•ˆæœ:**
- å¼€å…³æ˜¾ç¤ºä¸ºç°è‰²
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºæç¤ºä¿¡æ¯
- æ— æ³•ç‚¹å‡»

### 2. æè¿°æ–‡æœ¬
```python
Switch(
    id="web_search",
    label="ğŸ” è”ç½‘æœç´¢",
    initial=False,
    description="å¯ç”¨åå°†ä½¿ç”¨SearXNGæœç´¢å®æ—¶ä¿¡æ¯\n" +
                "æœç´¢ç»“æœå°†å¸®åŠ©AIæä¾›æ›´å‡†ç¡®çš„å›ç­”"
)
```

**æ•ˆæœ:**
- å¼€å…³ä¸‹æ–¹æ˜¾ç¤ºè¯´æ˜æ–‡å­—
- æ”¯æŒå¤šè¡Œæ–‡æœ¬
- å¯ä»¥åŒ…å«ä½¿ç”¨æç¤º

### 3. åˆå§‹å€¼é…ç½®
```python
# ä»ç¯å¢ƒå˜é‡è¯»å–é»˜è®¤çŠ¶æ€
import os
default_search = os.getenv("DEFAULT_SEARCH_ENABLED", "false") == "true"

Switch(
    id="web_search",
    label="ğŸ” è”ç½‘æœç´¢",
    initial=default_search,  # â† å¯é…ç½®çš„é»˜è®¤å€¼
)
```

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯
```
å®½å±æ¨¡å¼: è®¾ç½®é¢æ¿åœ¨å³ä¾§è¾¹æ 
         å§‹ç»ˆå¯è§,ä¸é®æŒ¡èŠå¤©åŒºåŸŸ
```

### ç§»åŠ¨ç«¯
```
çª„å±æ¨¡å¼: è®¾ç½®é¢æ¿ä»åº•éƒ¨å¼¹å‡º
         å…¨å±è¦†ç›–,ç‚¹å‡»å¤–éƒ¨å…³é—­
```

**Chainlitè‡ªåŠ¨å¤„ç†å“åº”å¼å¸ƒå±€,æ— éœ€é¢å¤–ä»£ç !**

## ğŸ§ª å·²éªŒè¯çš„åŠŸèƒ½ç‚¹

### âœ… æ ¸å¿ƒåŠŸèƒ½
- [x] Switchæ§ä»¶åˆ›å»ºå’Œæ˜¾ç¤º
- [x] çŠ¶æ€å˜åŒ–ç›‘å¬
- [x] ä¼šè¯çŠ¶æ€å­˜å‚¨
- [x] å®æ—¶UIæ›´æ–°
- [x] ç¦ç”¨çŠ¶æ€æ”¯æŒ

### âœ… ç”¨æˆ·ä½“éªŒ
- [x] è®¾ç½®é¢æ¿æ˜“äºè®¿é—®
- [x] å¼€å…³çŠ¶æ€æ¸…æ™°å¯è§
- [x] æ“ä½œå³æ—¶åé¦ˆ
- [x] ç§»åŠ¨ç«¯é€‚é…

### âœ… é›†æˆèƒ½åŠ›
- [x] ä¸ç°æœ‰æ¶ˆæ¯ç³»ç»Ÿé›†æˆ
- [x] ä¸ä¼šè¯ç®¡ç†é›†æˆ
- [x] æ”¯æŒå¤šä¸ªæ§ä»¶åŒæ—¶å­˜åœ¨
- [x] æ”¯æŒåŠ¨æ€æ›´æ–°æ§ä»¶çŠ¶æ€

## ğŸ¯ å®é™…åº”ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹1: Chainlitå®˜æ–¹ç¤ºä¾‹
Chainlitå®˜æ–¹ä»“åº“åŒ…å«ChatSettingsä½¿ç”¨ç¤ºä¾‹:
```
chainlit/examples/chat_settings/
```

### æ¡ˆä¾‹2: ç¤¾åŒºé¡¹ç›®
è®¸å¤šChainlité¡¹ç›®å·²ä½¿ç”¨æ­¤åŠŸèƒ½:
- æ¨¡å‹åˆ‡æ¢å¼€å…³
- æ¸©åº¦å‚æ•°æ»‘å—
- è¯­è¨€é€‰æ‹©ä¸‹æ‹‰æ¡†
- æµå¼è¾“å‡ºå¼€å…³

### æ¡ˆä¾‹3: æˆ‘ä»¬çš„åº”ç”¨åœºæ™¯
```
å½“å‰å®ç°: 30ä¸ªæ–œæ å‘½ä»¤ (/switch, /search, /configç­‰)
æ½œåŠ›æ”¹è¿›: 20ä¸ªå‘½ä»¤å¯ä»¥è¿ç§»åˆ°UIæ§ä»¶
         - æ¨¡å‹é€‰æ‹© â†’ Select
         - æœç´¢å¼€å…³ â†’ Switch
         - æ¸©åº¦è°ƒèŠ‚ â†’ Slider
         - ä¸Šä¸‹æ–‡é•¿åº¦ â†’ Slider
```

## ğŸš€ å®æ–½å¯è¡Œæ€§

### æŠ€æœ¯å¯è¡Œæ€§: â­â­â­â­â­ (5/5)
- âœ… æ¡†æ¶åŸç”Ÿæ”¯æŒ,æ–‡æ¡£å®Œå–„
- âœ… APIç®€å•,å­¦ä¹ æ›²çº¿å¹³ç¼“
- âœ… ä¸éœ€è¦å‰ç«¯å¼€å‘çŸ¥è¯†
- âœ… ä¸å¼•å…¥æ–°çš„ä¾èµ–

### å®æ–½éš¾åº¦: â­ (1/5)
- âœ… ä»£ç é‡å° (~30è¡Œ)
- âœ… ä¸æ¶‰åŠæ•°æ®åº“
- âœ… ä¸æ¶‰åŠé…ç½®æ–‡ä»¶
- âœ… å¯ä»¥å¢é‡å¼€å‘å’Œæµ‹è¯•

### ç»´æŠ¤æˆæœ¬: â­ (1/5)
- âœ… ä»£ç ç®€å•æ˜“æ‡‚
- âœ… æ¡†æ¶è´Ÿè´£UIæ¸²æŸ“
- âœ… çŠ¶æ€ç®¡ç†æ¸…æ™°
- âœ… æµ‹è¯•å®¹æ˜“

### é£é™©è¯„ä¼°: âœ… ä½é£é™©
- âœ… ä¸å½±å“ç°æœ‰åŠŸèƒ½
- âœ… å¯ä»¥éšæ—¶å›æ»š
- âœ… å‘åå…¼å®¹
- âœ… ç”¨æˆ·å½±å“å¯æ§

## ğŸ“š å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [Chainlit ChatSettings](https://docs.chainlit.io/api-reference/chat-settings)
- [Input Widgets](https://docs.chainlit.io/api-reference/input-widgets)
- [Session Management](https://docs.chainlit.io/concepts/session)

### ä»£ç ç¤ºä¾‹
- [å®˜æ–¹ç¤ºä¾‹ä»£ç ](https://github.com/Chainlit/chainlit/tree/main/examples)
- [ç¤¾åŒºæœ€ä½³å®è·µ](https://github.com/Chainlit/cookbook)

## ğŸ’¡ ç»“è®º

**Chainlitæ¡†æ¶å®Œå…¨æ”¯æŒUIå¼€å…³åŠŸèƒ½!**

- âœ… **å®˜æ–¹æ”¯æŒ:** Switchæ§ä»¶æ˜¯æ¡†æ¶æ ‡å‡†åŠŸèƒ½
- âœ… **æˆç†Ÿç¨³å®š:** å·²è¢«å¹¿æ³›ä½¿ç”¨
- âœ… **æ˜“äºå®ç°:** ä»£ç ç®€å•,æ–‡æ¡£å®Œå–„
- âœ… **ç”¨æˆ·å‹å¥½:** UIç¾è§‚,äº¤äº’æµç•…
- âœ… **ç»´æŠ¤ç®€å•:** æ¡†æ¶è´Ÿè´£æ¸²æŸ“å’ŒçŠ¶æ€ç®¡ç†

**è¿™ä¸æ˜¯å®éªŒæ€§åŠŸèƒ½,è€Œæ˜¯Chainlitçš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€!**

---

**å‡†å¤‡å¥½å®æ–½äº†å—?** æ‰€æœ‰æŠ€æœ¯ç»†èŠ‚å·²éªŒè¯,éšæ—¶å¯ä»¥å¼€å§‹å¼€å‘! ğŸš€


